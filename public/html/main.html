<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>NeuroMind</title>
     <link rel="stylesheet" href="../css/main.css">
     <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
     <script src="https://kit.fontawesome.com/53b462b57f.js" crossorigin="anonymous"></script>
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
     <script src='https://code.responsivevoice.org/responsivevoice.js'></script>

     <script>
          function generatePrompt() {
               var prompt = document.getElementById("prompt").value;
               $.ajax({
                    url: "/generate",
                    type: "POST",
                    data: {
                         prompt: prompt
                    },
                    success: function (response) {
                         console.log(response);
                         // append the response.result before the textfield
                         let div = document.createElement("div");
                         let input = document.createElement("input");
                         input.setAttribute("type", "button");
                         input.setAttribute("value", "ðŸ”Š Play");
                         input.onclick = function () {
                              responsiveVoice.speak(response.result);
                         }
                         
                         div.innerHTML = response.result;
                         div.classList.add("border", "w-full", "prompt-box", "response");
                         document.querySelector("#prompt-box").append(div);
                         div.append(input);
                         
                    }
               });
          }
     </script>
</head>

<body>
     <nav class="border sidebar">

     </nav>

     <section id="prompt-box" class="container">
          <div class="w-full prompt-box">
               <textarea name="prompt" id="prompt" cols="100" rows="4" placeholder="Anything here ..."></textarea>
               <button onclick="generatePrompt();">Send</button>
          </div>
          <!-- <input onclick="responsiveVoice.speak('This is the text you want to speak');" type='button' value='ðŸ”Š Play' /> -->
     </section>


     <!-- <div class="container">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
     </div> -->



</body>

</html>